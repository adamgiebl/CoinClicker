window['addEventListener']('load',m);const b=document['querySelector']('#game_elements'),c=document['querySelector']('#hearts'),d=document['querySelector']('#coins'),e=document['querySelector']('#screen');let f=[],g=0x3,h=0x0,i=0x3,j=['speed1','speed2','speed3'];const k={};k['HEART']='heart';k['COIN']='coin';k['BOMB']='bomb';const l=k;function m(){for(let p=0x0;p<i;p++)c['innerHTML']+='<div\x20class=\x22heart\x22></div>';f=document['querySelectorAll']('.heart'),o(l['BOMB'],0x4),o(l['COIN'],0x7),o(l['HEART'],0x1);}function n(){f['forEach'](p=>{p['classList']['add']('broken');});for(let p=0x0;p<g;p++)f[p]['classList']['remove']('broken');}function o(p,q){for(let r=0x0;r<q;r++){const u=document['createElement']('div'),v=p===l['BOMB']?'explode':'zoom';u['classList']['add'](p+'_container','falling'),u['innerHTML']='<div\x20class=\x22sprite\x22></div>',u['dataset']['id']=r,u['dataset']['type']=p,u['randomize']=function(){this['addEventListener']('click',this['clicked']),this['style']['left']=Math['floor'](0x64*Math['random']())+'vw',this['classList']['remove'](...j),this['classList']['add']('speed'+(Math['floor'](Math['random']()*j['length'])+0x1));},u['restart']=function(){this['children'][0x0]['classList']['remove'](v),this['classList']['remove']('pause'),this['classList']['remove']('falling'),this['offsetHeight'],this['classList']['add']('falling'),this['addEventListener']('click',this['clicked']),this['randomize']();},u['clicked']=function(){switch(p){case l['BOMB']:0x1===g?window['location']['reload']():g--,n();break;case l['COIN']:h++,d['innerText']=h;break;case l['HEART']:0x3!==g&&g++,n();}this['removeEventListener']('click',this['clicked']),this['classList']['add']('pause'),this['children'][0x0]['classList']['add'](v),'explode'===v&&e['classList']['add']('shake'),requestAnimationFrame(()=>{'explode'===v||this['children'][0x0]['addEventListener']('animationend',()=>{'explode'===v?e['classList']['remove']('shake'):(this['children'][0x0]['classList']['remove']('zoom'),this['classList']['remove']('pause'));});});},u['randomize'](),u['addEventListener']('mousedown',u['clicked']),u['addEventListener']('animationend',u['restart']),b['appendChild'](u);}}